<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <packageSources>
    <!-- Clear default sources to ensure explicit control -->
    <clear />

    <!-- Official NuGet.org source for public packages -->
    <add key="nuget.org" value="https://api.nuget.org/v3/index.json" protocolVersion="3" />

    <!-- GitHub Packages source for montge fork SDK packages -->
    <add key="github-montge" value="https://nuget.pkg.github.com/montge/index.json" />
  </packageSources>

  <packageSourceCredentials>
    <github-montge>
      <!--
        Authentication for GitHub Packages

        Option 1: Use environment variable (recommended for CI/CD)
        Set GITHUB_TOKEN environment variable with your Personal Access Token

        Option 2: Direct credentials (for local development)
        Replace YOUR_GITHUB_USERNAME and YOUR_GITHUB_PAT with your actual values
      -->
      <add key="Username" value="montge" />
      <add key="ClearTextPassword" value="%GITHUB_TOKEN%" />
    </github-montge>
  </packageSourceCredentials>

  <config>
    <!-- Use package source mapping for better security and performance -->
    <add key="dependencyVersion" value="Highest" />
  </config>

  <!--
    Package Source Mapping (optional, for better security)
    Maps specific package prefixes to specific sources
    Uncomment to enable:

    <packageSourceMapping>
      <packageSource key="nuget.org">
        <package pattern="*" />
      </packageSource>
      <packageSource key="github-montge">
        <package pattern="Microsoft.Azure.SpaceSDK.*" />
      </packageSource>
    </packageSourceMapping>
  -->
</configuration>
